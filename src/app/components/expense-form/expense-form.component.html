<div class="d-flex align-items-center justify-content-between flex-wrap mt-5 mb-4 border-bottom">
  <h2 class="section-title mb-4">{{ getFormTitle() }}</h2>
  <div class="d-flex gap-2 mb-3">
    <a routerLink="/gastos" class="btn btn-outline-secondary">Cancelar</a>
    <button
    type="button"
    class="btn btn-primary"
    (click)="saveExpense()"
    [disabled]="expenseForm.invalid"
    > Guardar gasto</button>
  </div>
</div>

<form class="mb-5" [formGroup]="expenseForm" (ngSubmit)="saveExpense()">
  <div class ="mb-3">
    <label for="typeInput" class="form-label">Tipo de gasto</label>
    <input
    type="text"
    formControlName="type"
    class="form-control {{ hasError('type') ? 'is-invalid' : '' }}"
    id="typeInput"
    placeholder="Transporte, Comida, Outros"
    >
    <div class="invalid-feedback" [ngSwitch]="getCurrentError('type')">
    <span *ngSwitchCase="'required'"> O preenchimento do campo é obrigatório!</span>
    <span *ngSwitchCase="'maxlenght'"> O máximo permitido é 100 caracteres!</span>
    </div>
  </div>

  <div class ="mb-3">
    <label for="amountInput" class="form-label">Quantidade gastada</label>
    <div class="input-group has-validation">
      <span class="input-group-text">$</span>
      <input
      type="number"
      formControlName="amount"
      class="form-control {{ hasError('amount') ? 'is-invalid' : '' }}"
      id="amountInput"
      placeholder="0.00"
    >
    <div class="invalid-feedback" [ngSwitch]="getCurrentError('amount')">
      <span *ngSwitchCase="'required'"> O preenchimento do campo Quantidade é obrigatório!</span>
    </div>
  </div>
</div>
<div class="mb-3">
  <label for="descriptionInput" class="form-label">Descrição</label>
  <textarea
  formControlName="description"
  class="form-control {{ hasError('description') ? 'is-invalid' : '' }}"
  id="descriptionInput"
  placeholder="Escreva uma descrição do gasto realizado!"
  ></textarea>
  <div class="invalid-feedback" [ngSwitch]="getCurrentError('description')">
  <span *ngSwitchCase="'required'"> O preenchimento do campo Descrição é obrigatório!</span>
  </div>
</div>
<div class="mb-3">
  <label for="expenseDateInput" class="form-label">Data da despesa</label>
  <input
  type="date"
  formControlName="expense_date"
  class="form-control {{ hasError('expense_date') ? 'is-invalid' : '' }}"
  id="expenseDateInput"
  >
  <div class="invalid-feedback" [ngSwitch]="getCurrentError('expense_date')">
    <span *ngSwitchCase="'required'"> O preenchimento do campo Data da despesa é obrigatório!</span>
    </div>
</div>
<button
type="submit"
class="btn btn-primary"
[disabled]="expenseForm.invalid"
>Salvar Gastos</button>
</form>
